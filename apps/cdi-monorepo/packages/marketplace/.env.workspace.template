# Google Workspace Integration Environment Variables
# Copy this file to .env.local and fill in your actual values

# ===========================
# GOOGLE WORKSPACE CONFIGURATION
# ===========================

# Your Google Workspace domain (e.g., constructivedesigns.org)
GOOGLE_WORKSPACE_DOMAIN=constructivedesignsinc.org

# Service account email from Google Cloud Console
GOOGLE_SERVICE_ACCOUNT_EMAIL=home-reno-vision-pro@appspot.gserviceaccount.com

# Service account private key (from the JSON key file)
# Replace \n with actual newlines in your .env.local file
GOOGLE_PRIVATE_KEY="8b9ae42defb2feac18b9da0773e1e8cedd28e59d"

# Gmail address that will send welcome emails (must have domain-wide delegation)
GMAIL_SENDER_EMAIL=welcome@constructivedesignsinc.org

# ===========================
# GOOGLE FORMS & SHEETS
# ===========================

# Google Forms ID for member applications
# Get this from the form URL: https://docs.google.com/forms/d/FORM_ID_HERE/edit
GOOGLE_MEMBER_FORM_ID=https://docs.google.com/forms/d/e/1FAIpQLSflHZTWR2uM3skZTbmAv64cgb1JtCeHCTpLldxSu4LeRAYRhA/viewform?usp=sharing&ouid=113591176970655664733

# Google Sheets ID for tracking member applications
# Get this from the sheet URL: https://docs.google.com/spreadsheets/d/SHEET_ID_HERE/edit
GOOGLE_MEMBER_SHEET_ID=https://docs.google.com/spreadsheets/d/1iSFU9-NnxdWJYj-c1bxR1CeuP0qIbcmTcE7SZxXhZjs/edit?resourcekey=&gid=800072661#gid=800072661

# Google Drive folder ID for member documents
# Get this from the folder URL: https://drive.google.com/drive/folders/FOLDER_ID_HERE
GOOGLE_DRIVE_FOLDER_ID=https://drive.google.com/drive/u/0/folders/1Y9LE1NLGnXhnpdyEh8xlaS_2O8pIkxZr

# ===========================
# WEBHOOK SECURITY
# ===========================

# Secret for verifying webhook authenticity (optional but recommended)
# Generate a random string: openssl rand -hex 32
GOOGLE_WEBHOOK_SECRET=cbfde05110f84b0aaa1e69bd257ba349

# ===========================
# SUPABASE CONFIGURATION
# ===========================

# Your Supabase project URL
NEXT_PUBLIC_SUPABASE_URL=https://supabase.com/dashboard/project/gjbrjysuqdvvqlxklvos
# Supabase service role key (for server-side operations)
# This is different from your anon key - it has full database access
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdqYnJqeXN1cWR2dnFseGtsdm9zIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MTY5NDcxMCwiZXhwIjoyMDc3MjcwNzEwfQ.85Ll4g0JEhyuES3UwoZk1n4pkj8LLj3GNLqZIQYtleE
# ===========================
# NEXTJS CONFIGURATION
# ===========================

# Your application's base URL (for webhook callbacks)
NEXTJS_URL=https://constructivedesignsinc.org
# Environment (development, staging, production)
NODE_ENV=development

# ===========================
# VERTEX AI CONFIGURATION
# ===========================

# Google Cloud Project ID (same as above)
GOOGLE_CLOUD_PROJECT=

# Vertex AI location/region
VERTEX_AI_LOCATION=us-central1

# Path to service account JSON file (for local development)
GOOGLE_APPLICATION_CREDENTIALS=./CDI_Marketplace_JSON_File.json

# AI Feature Flags
ENABLE_AI_LISTING_ASSISTANT=true
ENABLE_AI_PRICE_OPTIMIZER=true
ENABLE_AI_CHAT_ASSISTANT=true
ENABLE_AI_IMAGE_ANALYSIS=true

# AI Usage Limits (to control costs)
AI_DAILY_REQUEST_LIMIT=1000
AI_MONTHLY_BUDGET_LIMIT=100

# ===========================
# OPTIONAL: ADDITIONAL APIS
# ===========================

# If using additional Google APIs
GOOGLE_CALENDAR_ID=primary
GOOGLE_ADMIN_EMAIL=heatherf@constructivedesignsinc.org

# ===========================
# SETUP INSTRUCTIONS
# ===========================

# 1. Follow GOOGLE_WORKSPACE_SETUP_GUIDE.md to set up Google Cloud project
# 2. Enable required APIs in Google Cloud Console
# 3. Create service account and download JSON key
# 4. Set up domain-wide delegation
# 5. Create Google Forms and Sheets
# 6. Configure webhook endpoint in Google Apps Script
# 7. Test the integration with a sample form submission

# ===========================
# SECURITY NOTES
# ===========================

# NEVER commit this file to version control
# Keep your private keys secure
# Use different service accounts for different environments
# Regularly rotate your API keys
# Monitor API usage in Google Cloud Console

# ===========================
# TROUBLESHOOTING
# ===========================

# If you get authentication errors:
# - Verify service account email is correct
# - Check that domain-wide delegation is properly configured
# - Ensure the service account has necessary scopes
# - Verify the private key format (newlines should be actual newlines)

# If webhooks aren't working:
# - Check that the webhook URL is publicly accessible
# - Verify the Google Apps Script trigger is set up correctly
# - Check the webhook logs for error messages
# - Ensure the form is configured to trigger the webhook

# If email sending fails:
# - Verify the sender email has domain-wide delegation
# - Check that Gmail API is enabled
# - Ensure the sender email exists in your Google Workspace

# For rate limiting issues:
# - Monitor your API quota in Google Cloud Console
# - Implement exponential backoff for retries
# - Consider caching frequently accessed data